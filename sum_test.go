package sum

import "testing"

func Test_sum_go(t *testing.T) {
	x := sum_noasm([]byte{1, 2, 3, 4})
	if x != 10 {
		t.Fail()
	}
}

func Test_sum(t *testing.T) {
	x := sum([]byte{1, 2, 3, 4, 5, 6})
	if x != 21 {
		t.Log(x, "!=", 21)
		t.Fail()
	}
}

var bytes = []byte(`
	0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF
	0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF
	0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF
	0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF
	0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF
	0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF
	0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF
	0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF
	0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF
	0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF
	0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF
	0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF
	0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF
	0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF
	0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF
	0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF
	0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF
	0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF
	0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF
	0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF
	0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF
	0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF
	0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF
	0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF
	0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF
	0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF
	0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF
	0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF
	0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF
	0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF
	0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF
`)

func Benchmark_sum_go(b *testing.B) {
	for i := 0; i < b.N; i++ {
		sum_noasm(bytes)
	}
}

func Benchmark_sum(b *testing.B) {
	for i := 0; i < b.N; i++ {
		sum(bytes)
	}
}
